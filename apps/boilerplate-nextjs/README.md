# Next.js + TypeScript ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸

ì´ í”„ë¡œì íŠ¸ëŠ” **ë…ë¦½ì ì¸ Next.js í”„ë¡œì íŠ¸ ìƒì„±ì„ ìœ„í•œ ì˜ˆì‹œ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸**ì…ë‹ˆë‹¤.

## ğŸ“‹ ì£¼ìš” íŠ¹ì§•

### ğŸ¯ ë…ë¦½ì„± ìš°ì„ 

- **ì™„ì „í•œ ë…ë¦½ì„±**: workspace ì˜ì¡´ì„± ì™„ì „ ì œê±°ë¡œ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ë¡œ ë³µì‚¬í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ì €ì¥ì†Œë¡œ ì´ë™í•˜ê¸° ì‰½ê²Œ ì„¤ê³„
- **ìì²´ ì™„ê²°ì **: ëª¨ë“  ì„¤ì •ì´ í”„ë¡œì íŠ¸ ë‚´ë¶€ì— í¬í•¨ë˜ì–´ ìˆì–´ ì™¸ë¶€ ì˜ì¡´ì„± ì—†ì´ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰ ê°€ëŠ¥
- **ìœ ì—°í•œ ì„ íƒ**: í”„ë¡œì íŠ¸ ì„±ê²©ì— ë”°ë¼ ìŠ¤íƒ€ì¼ë§ ë°©ì‹ì„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ êµ¬ì„±

### ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

- **Next.js 15** + **TypeScript** - React ê¸°ë°˜ í’€ìŠ¤íƒ í”„ë ˆì„ì›Œí¬ (App Router ì‚¬ìš©)
- **TanStack Query v5** - ê°•ë ¥í•œ ì„œë²„ ìƒíƒœ ê´€ë¦¬ ë° ë°ì´í„° íŒ¨ì¹­
- **Jotai** - ì›ìì  í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê´€ë¦¬
- **React 19** - ìµœì‹  React ë²„ì „
- **Tailwind CSS v4** - ìœ í‹¸ë¦¬í‹° í¼ìŠ¤íŠ¸ CSS í”„ë ˆì„ì›Œí¬
- **Storybook** - ì»´í¬ë„ŒíŠ¸ ë¬¸ì„œí™” ë° ê°œë°œ

### ğŸ¨ ìŠ¤íƒ€ì¼ë§ ì˜µì…˜ (ì„ íƒì  ì‚¬ìš©)

- **Tailwind CSS v4**: ìœ í‹¸ë¦¬í‹° í¼ìŠ¤íŠ¸ CSS í”„ë ˆì„ì›Œí¬ (ê¸°ë³¸ ì„¤ì •)
- **Emotion**: CSS-in-JS ë¼ì´ë¸ŒëŸ¬ë¦¬ (Next.js ì»´íŒŒì¼ëŸ¬ ì„¤ì • í¬í•¨)

> **âš ï¸ ì¤‘ìš”**: Tailwindì™€ Emotionì€ í”„ë¡œì íŠ¸ ì„±ê²©ì— ë”°ë¼ **ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©**í•©ë‹ˆë‹¤. ë‘˜ ë‹¤ ë™ì‹œì— ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### ğŸ”§ ì£¼ìš” ì„¤ì •

- **App Router**: Next.js 13+ ìƒˆë¡œìš´ ë¼ìš°íŒ… ì‹œìŠ¤í…œ ì‚¬ìš©
- **Route Groups**: `(client)`, `(admin)` ë“±ìœ¼ë¡œ ë¼ìš°íŠ¸ êµ¬ì¡°í™”
- **TanStack Query**: SSR ìµœì í™”ì™€ ê°•ë ¥í•œ ìºì‹± ê¸°ëŠ¥
- **SVGR í”ŒëŸ¬ê·¸ì¸**: SVG íŒŒì¼ì„ React ì»´í¬ë„ŒíŠ¸ë¡œ ìë™ ë³€í™˜
- **ì ˆëŒ€ ê²½ë¡œ ì„¤ì •**: `@/` ë³„ì¹­ìœ¼ë¡œ src í´ë” ì°¸ì¡° ê°€ëŠ¥
- **Turbopack**: ë¹ ë¥¸ ê°œë°œ ì„œë²„ (ê°œë°œ ëª¨ë“œì—ì„œ ì‚¬ìš©)
- **SEO ìµœì í™”**: ë©”íƒ€ë°ì´í„° API ë° sitemap ì„¤ì •
- **ESLint + TypeScript**: ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬

## ğŸš€ ì‚¬ìš©ë²•

### ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
pnpm dev
```

### ë¹Œë“œ

```bash
pnpm build
```

### í”„ë¡œë•ì…˜ ì‹¤í–‰

```bash
pnpm start
```

### íƒ€ì… ì²´í¬

```bash
pnpm check-types
```

### Storybook ì‹¤í–‰

```bash
pnpm storybook
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ app/                    # App Router ê¸°ë°˜ ë¼ìš°íŒ…
â”‚   â”œâ”€â”€ (client)/          # í´ë¼ì´ì–¸íŠ¸ ë¼ìš°íŠ¸ ê·¸ë£¹
â”‚   â”‚   â”œâ”€â”€ page.tsx       # í™ˆ í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ test/          # í…ŒìŠ¤íŠ¸ í˜ì´ì§€ë“¤
â”‚   â”‚   â”œâ”€â”€ _api/          # í´ë¼ì´ì–¸íŠ¸ API ë¡œì§
â”‚   â”‚   â”œâ”€â”€ _hooks/        # í´ë¼ì´ì–¸íŠ¸ ì „ìš© í›…
â”‚   â”‚   â””â”€â”€ _storages/     # í´ë¼ì´ì–¸íŠ¸ ì €ì¥ì†Œ ë¡œì§
â”‚   â”œâ”€â”€ (admin)/           # ì–´ë“œë¯¼ ë¼ìš°íŠ¸ ê·¸ë£¹ (ì˜ˆì•½ë¨)
â”‚   â”œâ”€â”€ layout.tsx         # ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
â”‚   â”œâ”€â”€ favicon.ico        # íŒŒë¹„ì½˜
â”‚   â””â”€â”€ icons.ts           # ì•„ì´ì½˜ ì„¤ì •
â”œâ”€â”€ components/
â”‚   â””â”€â”€ Providers.tsx      # ì „ì—­ ìƒíƒœ ê´€ë¦¬ Provider
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ react-query.ts     # TanStack Query ì„¤ì •
â”œâ”€â”€ styles/
â”‚   â””â”€â”€ globals.css        # ì „ì—­ ìŠ¤íƒ€ì¼ (Tailwind í¬í•¨)
â”œâ”€â”€ theme/
â”‚   â””â”€â”€ fonts.ts           # í°íŠ¸ ì„¤ì • (Pretendard)
â”œâ”€â”€ utils/                 # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
â”œâ”€â”€ schemas/               # Zod ìŠ¤í‚¤ë§ˆ ì •ì˜
â”œâ”€â”€ common/                # ê³µí†µ íƒ€ì… ë° DTO
â””â”€â”€ atoms/                 # Jotai ìƒíƒœ ê´€ë¦¬
```

### ğŸ—‚ï¸ Next.js App Router êµ¬ì¡°ì˜ ì¥ì 

- **ğŸ”§ Route Groups**: `(client)`, `(admin)` ë“±ìœ¼ë¡œ ë¼ìš°íŠ¸ ë…¼ë¦¬ì  ë¶„ë¦¬
- **ğŸ“ˆ í™•ì¥ì„±**: ìƒˆë¡œìš´ í˜ì´ì§€ë‚˜ ë ˆì´ì•„ì›ƒ ì¶”ê°€ ì‹œ ì²´ê³„ì  ê´€ë¦¬
- **ğŸš€ ì„±ëŠ¥**: ìë™ ì½”ë“œ ë¶„í•  ë° ìµœì í™”ëœ ë²ˆë“¤ë§
- **ğŸ” SEO**: ë©”íƒ€ë°ì´í„° APIë¡œ í˜ì´ì§€ë³„ SEO ìµœì í™”
- **ğŸ‘¥ í˜‘ì—… ì¹œí™”ì **: íŒ€ì›ë“¤ì´ ì§ê´€ì ìœ¼ë¡œ ë¼ìš°íŠ¸ êµ¬ì¡°ë¥¼ íŒŒì•… ê°€ëŠ¥

## ğŸš€ TanStack Query í•µì‹¬ ê¸°ëŠ¥ (SSR ìµœì í™”)

### ğŸ“Š Server-Side Renderingê³¼ í•¨ê»˜ ì‚¬ìš©

```tsx
// ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°ì´í„° prefetch
async function HomePage() {
  const queryClient = getQueryClient();

  // ì„œë²„ì—ì„œ ë°ì´í„° ë¯¸ë¦¬ ë¡œë“œ
  await queryClient.prefetchQuery({
    queryKey: ['welcome-data'],
    queryFn: fetchWelcomeData,
  });

  return (
    <HydrationBoundary state={dehydrate(queryClient)}>
      <ClientComponent />
    </HydrationBoundary>
  );
}
```

### ğŸ“ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©

```tsx
'use client';

// í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìºì‹œëœ ë°ì´í„° ì‚¬ìš©
function ClientComponent() {
  const { data, isLoading, error } = useQuery({
    queryKey: ['welcome-data'],
    queryFn: fetchWelcomeData,
    staleTime: 5 * 60 * 1000, // 5ë¶„ê°„ fresh
  });

  if (isLoading) return <LoadingSpinner />;
  if (error) return <ErrorMessage />;

  return <div>{data.welcomeMessage}</div>;
}
```

### ğŸ”„ Server Actionsì™€ í•¨ê»˜ ì‚¬ìš©

```tsx
'use client';

function FormComponent() {
  const queryClient = useQueryClient();

  const { mutate, isPending } = useMutation({
    mutationFn: submitFormAction, // Server Action
    onSuccess: () => {
      // ê´€ë ¨ ì¿¼ë¦¬ ë¬´íš¨í™”
      queryClient.invalidateQueries({ queryKey: ['form-data'] });
    },
  });

  return (
    <form action={mutate}>
      <input name="data" />
      <button disabled={isPending}>{isPending ? 'ì œì¶œ ì¤‘...' : 'ì œì¶œ'}</button>
    </form>
  );
}
```

## ğŸ¯ ë¼ìš°íŒ… êµ¬ì¡° ì˜ˆì‹œ

### Route Groups í™œìš©

```
app/
â”œâ”€â”€ (client)/              # í´ë¼ì´ì–¸íŠ¸ ë©´ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ page.tsx          # / (í™ˆ)
â”‚   â”œâ”€â”€ about/page.tsx    # /about
â”‚   â”œâ”€â”€ products/         # /products
â”‚   â””â”€â”€ contact/page.tsx  # /contact
â””â”€â”€ (admin)/              # ì–´ë“œë¯¼ ë©´ ë¼ìš°íŠ¸
    â”œâ”€â”€ page.tsx          # /admin (ê´€ë¦¬ì í™ˆ)
    â”œâ”€â”€ users/page.tsx    # /admin/users
    â””â”€â”€ settings/page.tsx # /admin/settings
```

### ë™ì  ë¼ìš°íŒ…

```tsx
// app/(client)/products/[id]/page.tsx
interface ProductPageProps {
  params: { id: string };
}

export default function ProductPage({ params }: ProductPageProps) {
  return <div>ìƒí’ˆ ID: {params.id}</div>;
}
```

## ğŸ” SEO ìµœì í™” ì„¤ì •

### ì •ì  ë©”íƒ€ë°ì´í„°

```tsx
// app/layout.tsx
export const metadata: Metadata = {
  title: 'My Next.js App',
  description: 'Amazing Next.js application',
  openGraph: {
    title: 'My Next.js App',
    description: 'Amazing Next.js application',
    type: 'website',
  },
};
```

### ë™ì  ë©”íƒ€ë°ì´í„°

```tsx
// app/(client)/products/[id]/page.tsx
export async function generateMetadata({ params }: ProductPageProps): Promise<Metadata> {
  const product = await fetchProduct(params.id);

  return {
    title: product.name,
    description: product.description,
    openGraph: {
      title: product.name,
      description: product.description,
      images: [product.image],
    },
  };
}
```

## ğŸ’¡ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„± ì‹œ ì°¸ê³ ì‚¬í•­

1. **ë…ë¦½ì  ë³µì‚¬**: ì´ í´ë” ì „ì²´ë¥¼ ë³µì‚¬í•˜ì—¬ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ì˜ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

2. **ìŠ¤íƒ€ì¼ë§ ë°©ì‹ ì„ íƒ**:

   - **Tailwind CSS í”„ë¡œì íŠ¸**: `next.config.ts`ì—ì„œ emotion ì»´íŒŒì¼ëŸ¬ ì„¤ì • ì œê±°
   - **Emotion í”„ë¡œì íŠ¸**: `src/styles/globals.css`ì—ì„œ Tailwind import ì œê±°

3. **ë¼ìš°íŠ¸ êµ¬ì¡° ì„¤ê³„**:

   - Route Groupsì„ í™œìš©í•˜ì—¬ ë…¼ë¦¬ì ìœ¼ë¡œ ë¼ìš°íŠ¸ ë¶„ë¦¬
   - í´ë¼ì´ì–¸íŠ¸/ì–´ë“œë¯¼ ë˜ëŠ” ê¸°ëŠ¥ë³„ë¡œ ê·¸ë£¹í™”

4. **í™˜ê²½ë³€ìˆ˜ ì„¤ì •**:

   - `.env.local` íŒŒì¼ ìƒì„± ë° í•„ìš”í•œ í™˜ê²½ë³€ìˆ˜ ì¶”ê°€
   - `src/schemas/env.schema.ts`ì—ì„œ í™˜ê²½ë³€ìˆ˜ ìŠ¤í‚¤ë§ˆ ì •ì˜

5. **SEO ì„¤ì •**:

   - `app/layout.tsx`ì—ì„œ ê¸°ë³¸ ë©”íƒ€ë°ì´í„° ìˆ˜ì •
   - `next-sitemap.config.js`ì—ì„œ ì‚¬ì´íŠ¸ë§µ ì„¤ì •

6. **ì˜ì¡´ì„± ì •ë¦¬**: ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì œê±°í•˜ì—¬ ë²ˆë“¤ í¬ê¸°ë¥¼ ìµœì í™”í•˜ì„¸ìš”

## ğŸ¨ ìŠ¤íƒ€ì¼ë§ ê°€ì´ë“œ

### Tailwind CSS ì‚¬ìš© ì‹œ (ê¶Œì¥)

```bash
# ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥
# globals.cssì— ì´ë¯¸ @import 'tailwindcss' í¬í•¨ë¨
```

```typescript
// next.config.tsì—ì„œ emotion ì»´íŒŒì¼ëŸ¬ ì„¤ì • ì œê±°
const nextConfig: NextConfig = {
  // compiler: {
  //   emotion: true,  // ì´ ë¶€ë¶„ ì œê±° ë˜ëŠ” ì£¼ì„ ì²˜ë¦¬
  // },
  // ... ë‚˜ë¨¸ì§€ ì„¤ì •
};
```

### Emotion ì‚¬ìš© ì‹œ

```bash
# Tailwind ê´€ë ¨ ì˜ì¡´ì„± ì œê±°
pnpm remove tailwindcss @tailwindcss/postcss

# globals.cssì—ì„œ tailwindcss import ì œê±°
# next.config.tsì˜ emotion ì»´íŒŒì¼ëŸ¬ ì„¤ì •ì€ ì´ë¯¸ í¬í•¨ë¨
```

## ğŸš€ ì„±ëŠ¥ ìµœì í™” íŒ

### 1. ë²ˆë“¤ ë¶„ì„

```bash
# ë²ˆë“¤ ë¶„ì„ê¸° ì„¤ì¹˜
pnpm add -D @next/bundle-analyzer

# ë²ˆë“¤ ë¶„ì„ ì‹¤í–‰
ANALYZE=true pnpm build
```

### 2. ì´ë¯¸ì§€ ìµœì í™”

```tsx
import Image from 'next/image';

// Next.js Image ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
<Image
  src="/hero.jpg"
  alt="Hero image"
  width={800}
  height={600}
  priority // ì¤‘ìš”í•œ ì´ë¯¸ì§€ì— priority ì„¤ì •
/>;
```

### 3. í°íŠ¸ ìµœì í™”

```tsx
// src/theme/fonts.tsì— ì´ë¯¸ ì„¤ì •ë¨
import { Pretendard } from './fonts';

// í°íŠ¸ preload ë° display swap ìµœì í™” ì ìš©ë¨
```

## ğŸ”§ ê°œë°œ ë„êµ¬

- **Turbopack**: ê°œë°œ ì„œë²„ ê³ ì†í™” (ìë™ í™œì„±í™”)
- **TanStack Query DevTools**: ì¿¼ë¦¬ ìƒíƒœ ëª¨ë‹ˆí„°ë§
- **Jotai DevTools**: ì›ì ìƒíƒœ ë””ë²„ê¹…
- **Next.js DevTools**: ì„±ëŠ¥ ë° ë¼ìš°íŒ… ë¶„ì„
- **TypeScript**: íƒ€ì… ì•ˆì „ì„± ë° ê°œë°œì ê²½í—˜ í–¥ìƒ

ì´ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ëŠ” ìµœì‹  Next.js ê¸°ëŠ¥ë“¤ì„ í™œìš©í•˜ì—¬ **í™•ì¥ ê°€ëŠ¥í•˜ê³  ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜**ì„ ë¹ ë¥´ê²Œ êµ¬ì¶•í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
